{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/credit-card-number.directive.ts","./src/app/credit-card/credit-card.component.ts","./src/app/credit-card/credit-card.component.html","./src/app/digit-only.directive.ts","./src/app/domain.ts","./src/app/lib.ts","./src/app/time.pipe.ts","./src/app/tooltip.directive.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { ChangeDetectionStrategy, Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nimport { Observable, timer } from \"rxjs\";\r\nimport { scan, takeWhile } from \"rxjs/operators\";\r\nimport { CreditCardComponent } from \"./credit-card/credit-card.component\";\r\nimport { CreditCardGroupComponents } from \"./domain\";\r\n\r\n@Component({\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tselector: \"app-root\",\r\n\ttemplateUrl: \"./app.component.html\",\r\n\tstyleUrls: [\"./app.component.scss\"]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n\t// Countdown timer\r\n\t// TODO: unsubscribe??\r\n\tpublic timerSeconds = 900;\r\n\tpublic timer$: Observable<number>;\r\n\r\n\t// Form group representing the entire payment form\r\n\tpublic paymentForm: FormGroup;\r\n\r\n\t// Reference to the credit card component used to handle credit-card input and FE processing\r\n\t@ViewChild(CreditCardComponent, { static: true })\r\n\tpublic creditCardComponent: CreditCardComponent;\r\n\r\n\r\n\tpublic ngOnInit() {\r\n\r\n\t\t// TODO: add validators and other processing for the name, etc\r\n\t\tthis.paymentForm = new FormGroup({\r\n\t\t\tcreditCard: this.creditCardComponent.creditCardSubGroup,\r\n\t\t\temailReceipt: new FormControl(false),\r\n\t\t});\r\n\r\n\t\t// Initiate countdown timer\r\n\t\tthis.timer$ = timer(0, 1000).pipe(\r\n\t\t\tscan(acc => --acc, this.timerSeconds),\r\n\t\t\ttakeWhile(x => x >= 0)\r\n\t\t);\r\n\t}\r\n\r\n\tpublic onSubmit(): void {\r\n\t\tconst ccGroup: FormGroup = this.paymentForm.controls.creditCard as FormGroup;\r\n\t\tconst cardNumber: string = ccGroup.controls[CreditCardGroupComponents.CREDIT_CARD_NUMBER].value;\r\n\t\tconst expMonth: string = ccGroup.controls[CreditCardGroupComponents.EXPIRATION_MONTH].value;\r\n\t\tconst expYear: string = ccGroup.controls[CreditCardGroupComponents.EXPIRATION_YEAR].value;\r\n\t\tconst name: string = ccGroup.controls[CreditCardGroupComponents.NAME].value;\r\n\t\tconst cvv: string = ccGroup.controls[CreditCardGroupComponents.CVV].value;\r\n\t\tconst emailReceipt: string = this.paymentForm.get(\"emailReceipt\").value;\r\n\r\n\t\tconsole.log(\"Name  \t      :\", name);\r\n\t\tconsole.log(\"Card Number  :\", cardNumber);\r\n\t\tconsole.log(\"Exp. Month   :\", expMonth);\r\n\t\tconsole.log(\"Exp. Year    :\", expYear);\r\n\t\tconsole.log(\"CVV          :\", cvv);\r\n\t\tconsole.log(\"Email receipt:\", emailReceipt);\r\n\t}\r\n\r\n\r\n}\r\n","<section>\r\n\t<img src=\"../assets/images/logo.png\" />\r\n\t<div>\r\n\t\tДо окончания сессии осталось\r\n\t\t<span>{{ timer$ | async | time}}</span>\r\n\t</div>\r\n\r\n</section>\r\n\r\n<section>\r\n\t<div>Оплата:&nbsp;&nbsp;325,00 BYN</div>\r\n\t<div>Номер заявки:&nbsp;&nbsp;34875398</div>\r\n\t<div>Получатель:&nbsp;&nbsp;Shop name</div>\r\n</section>\r\n\r\n<form [formGroup]=\"paymentForm\" (ngSubmit)=\"onSubmit()\" autocomplete=\"off\">\r\n\r\n\t<div class=\"main-block-wrap\">\r\n\r\n\t\t<app-credit-card></app-credit-card>\r\n\r\n\t\t<div class=\"info-block\">\r\n\t\t\t<div class=\"cc-icons\">\r\n\t\t\t\t<img src=\"../assets/images/visa.png\" alt=\"Visa\">\r\n\t\t\t\t<img src=\"../assets/images/ms.png\" alt=\"Mastercard\">\r\n\t\t\t\t<img src=\"../assets/images/belkart.png\" alt=\"Belkart\">\r\n\t\t\t\t<img src=\"../assets/images/unionpay.png\" alt=\"Unionpay\">\r\n\t\t\t</div>\r\n\t\t\t<p>Интернет-платежи защищены сертификатом SSL и протоколом 3D-Secure и не передает магазинам платежные данные в том числе и данные карты </p>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class=\"bottom-block-wrap\">\r\n\r\n\t\t<label><input type=\"checkbox\" formControlName=\"emailReceipt\"> Получать квитанцию на e-mail</label>\r\n\r\n\t\t<button class=\"app\" type=\"submit\" [disabled]=\"!creditCardComponent.valid\">Оплатить</button>\r\n\r\n\t</div>\r\n\r\n\r\n\r\n</form>\r\n\r\n<!-- <router-outlet></router-outlet> -->\r\n","import { NgModule } from \"@angular/core\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\nimport { NgxMaskModule } from \"ngx-mask\";\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { AppComponent } from \"./app.component\";\r\nimport { CreditCardNumberDirective } from \"./credit-card-number.directive\";\r\nimport { CreditCardComponent } from \"./credit-card/credit-card.component\";\r\nimport { DigitOnlyDirective } from \"./digit-only.directive\";\r\nimport { TimePipe } from \"./time.pipe\";\r\nimport { TooltipDirective } from \"./tooltip.directive\";\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tAppComponent,\r\n\t\tCreditCardComponent,\r\n\t\tCreditCardNumberDirective,\r\n\t\tTooltipDirective,\r\n\t\tTimePipe,\r\n\t\tDigitOnlyDirective\r\n\t],\r\n\timports: [\r\n\t\tBrowserModule,\r\n\t\tAppRoutingModule,\r\n\t\tReactiveFormsModule,\r\n\t\tNgxMaskModule.forRoot(),\r\n\t],\r\n\tproviders: [],\r\n\tbootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Directive, ElementRef, EventEmitter, HostListener, OnInit, Output } from \"@angular/core\";\r\nimport { CREDIT_CARD_ERRORS, CreditCardTypes } from \"./domain\";\r\nimport { getCardType, isCCLengthValid, isValidLuhn } from \"./lib\";\r\n\r\n@Directive({\r\n\tselector: \"[appCreditCardNumber]\"\r\n})\r\nexport class CreditCardNumberDirective implements OnInit {\r\n\r\n\t// Direct reference to the Input element\r\n\tprotected input: HTMLInputElement;\r\n\r\n\t// Credit card type is detected (other than unknown)\r\n\t@Output() public cardTypeChange = new EventEmitter<CreditCardTypes>();\r\n\r\n\t// Valid credit card number detected\r\n\t@Output() public cardNumberChange = new EventEmitter<string>();\r\n\r\n\t// Error detected while typing credit-card number\r\n\t@Output() public cardErrorChange = new EventEmitter<string>();\r\n\r\n\tpublic constructor(\r\n\t\tprotected elementRef: ElementRef,\r\n\t) {\r\n\t\tthis.input = this.elementRef.nativeElement as HTMLInputElement;\r\n\t}\r\n\r\n\tpublic ngOnInit() {\r\n\t\tthis.cardTypeChange.emit(CreditCardTypes.UNKNOWN);\r\n\t}\r\n\r\n\t// Access the current credit-card number length\r\n\tpublic get length(): number {\r\n\t\treturn this.input.value.length;\r\n\t}\r\n\r\n\r\n\t// TODO: refactor\r\n\t// HostListener fires change detection; consider RxJS fromEvent() as an alternative\r\n\t@HostListener(\"keydown\", [\"$event\"])\r\n\tpublic onKeyDown(evt: KeyboardEvent): boolean {\r\n\t\tconst key: string = evt.key;\r\n\r\n\t\tif (\r\n\t\t\t// Allow: Delete, Backspace, Tab, Escape, Enter, etc\r\n\t\t\t// this.navigationKeys.indexOf(key) > -1 ||\r\n\t\t\t(key === \"a\" && evt.ctrlKey === true) || // Allow: Ctrl+A\r\n\t\t\t(key === \"c\" && evt.ctrlKey === true) || // Allow: Ctrl+C\r\n\t\t\t(key === \"v\" && evt.ctrlKey === true) || // Allow: Ctrl+V\r\n\t\t\t(key === \"x\" && evt.ctrlKey === true) || // Allow: Ctrl+X\r\n\t\t\t(key === \"a\" && evt.metaKey === true) || // Cmd+A (Mac)\r\n\t\t\t(key === \"c\" && evt.metaKey === true) || // Cmd+C (Mac)\r\n\t\t\t(key === \"v\" && evt.metaKey === true) || // Cmd+V (Mac)\r\n\t\t\t(key === \"x\" && evt.metaKey === true) // Cmd+X (Mac)\r\n\t\t) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Some characters are OK (for selecting/deselecting/etc)\r\n\t\tif (key === \"Shift\" || key === \"ArrowLeft\" || key === \"ArrowRight\"\r\n\t\t\t|| key === \"Control\" || key === \"Alt\" || key === \"Tab\"\r\n\t\t\t|| key === \"Home\" || key === \"End\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Backspace and Delete are okay\r\n\t\tconst code = evt.code.toLowerCase();\r\n\t\tif (code === \"backspace\" || code === \"delete\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst value: RegExpMatchArray = key.match(/[\\d -]+/);\r\n\r\n\t\tif (value == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@HostListener(\"keyup\")\r\n\tpublic onKeyUp(): boolean {\r\n\t\tconst cardNumber: string = this.input.value.replace(\" \", \"\");\r\n\r\n\t\t/*\r\n\t\t  Note:  In general, 2-4 digits is all it takes to identify the card type; after that, this test is redundant.\r\n\t\t  TODO: Make this more efficient\r\n\t\t */\r\n\t\tconst cardType: CreditCardTypes = getCardType(cardNumber);\r\n\r\n\t\tif (cardType === CreditCardTypes.UNKNOWN) {\r\n\t\t\tthis.cardErrorChange.emit(CREDIT_CARD_ERRORS.UNSUPPORTED_CARD);\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tthis.cardTypeChange.emit(cardType);\r\n\t\t}\r\n\r\n\t\tif (!isCCLengthValid(cardNumber, cardType)) {\r\n\t\t\tthis.cardErrorChange.emit(CREDIT_CARD_ERRORS.INVALID_LENGTH);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!isValidLuhn(cardNumber)) {\r\n\t\t\tthis.cardErrorChange.emit(CREDIT_CARD_ERRORS.INVALID_NUMBER);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.cardErrorChange.emit(CREDIT_CARD_ERRORS.NONE);\r\n\t\tthis.cardNumberChange.emit(cardNumber);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewChild } from \"@angular/core\";\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { CreditCardNumberDirective } from \"../credit-card-number.directive\";\r\nimport { CREDIT_CARD_ERRORS, creditCards, CreditCardTypes, months, years } from \"../domain\";\r\n\r\n@Component({\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tselector: \"app-credit-card\",\r\n\ttemplateUrl: \"./credit-card.component.html\",\r\n\tstyleUrls: [\"./credit-card.component.scss\"],\r\n})\r\nexport class CreditCardComponent implements OnInit {\r\n\t@Input() public placeHolder = \"Введите номер карты\";\r\n\r\n\r\n\t// Make visible to template\r\n\tpublic CreditCardErrors = CREDIT_CARD_ERRORS;\r\n\tpublic creditCardData = creditCards;\r\n\tpublic monthData = months;\r\n\tpublic yearData = years;\r\n\r\n\t// The sub-form for which this component is responsible\r\n\tpublic creditCardSubGroup: FormGroup;\r\n\r\n\tpublic cardType: string = CreditCardTypes.UNKNOWN;\r\n\r\n\t// Current month and full year\r\n\tprotected currentMonth: number;\r\n\tprotected currentYear: number;\r\n\r\n\t// cache currently selected month/year\r\n\tprotected selectedMonth: number;\r\n\tprotected selectedYear: number;\r\n\r\n\t// references to form controls for quick property access/enable/disable\r\n\tprotected expirationMonth: FormControl;\r\n\tprotected expirationYear: FormControl;\r\n\tprotected name: FormControl;\r\n\tprotected cvv: FormControl;\r\n\r\n\t// Various errors that may occur while typing/interacting with the sub-form\r\n\tpublic cardError: string = CREDIT_CARD_ERRORS.NONE;\r\n\tpublic expError: string = CREDIT_CARD_ERRORS.NONE;\r\n\tpublic cvvError: string = CREDIT_CARD_ERRORS.NONE;\r\n\r\n\t// Reference to the {CreditCardNumberDirective} that controls interactivity with the credit card number input\r\n\t@ViewChild(CreditCardNumberDirective, { static: true })\r\n\tprotected creditCardNumberInput: CreditCardNumberDirective;\r\n\r\n\tpublic constructor() {\r\n\r\n\t\tconst theDate: Date = new Date();\r\n\t\tthis.currentMonth = theDate.getMonth();\r\n\t\tthis.currentYear = theDate.getFullYear();\r\n\t\t// this.selectedYear = this.currentYear;\r\n\t\t// this.selectedMonth = this.currentMonth;\r\n\r\n\t\tthis.expirationMonth = new FormControl(null, Validators.required);\r\n\t\tthis.expirationYear = new FormControl(null, Validators.required);\r\n\t\tthis.name = new FormControl(null, Validators.required);\r\n\t\tthis.cvv = new FormControl(null, Validators.required);\r\n\r\n\t\tthis.creditCardSubGroup = new FormGroup({\r\n\t\t\tcreditCardNumber: new FormControl(null, Validators.required),\r\n\t\t\texpirationMonth: this.expirationMonth,\r\n\t\t\texpirationYear: this.expirationYear,\r\n\t\t\tname: this.name,\r\n\t\t\tcvv: this.cvv,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic ngOnInit() {\r\n\t}\r\n\r\n\t// TODO: adjust\r\n\tpublic get valid(): boolean {\r\n\t\treturn this.creditCardSubGroup.valid\r\n\t\t\t&& this.isValidCardNumber && this.isValidExpDate && this.isValidCVV;\r\n\t}\r\n\r\n\r\n\t// Is the currently entered credit-card number valid?\r\n\tpublic get isValidCardNumber(): boolean {\r\n\t\treturn this.cardType !== CreditCardTypes.UNKNOWN\r\n\t\t\t&& this.creditCardNumberInput.length > 0\r\n\t\t\t&& this.cardError === CREDIT_CARD_ERRORS.NONE;\r\n\t}\r\n\r\n\t// Is the currently set expiration date (month and year) valid?\r\n\tpublic get isValidExpDate(): boolean {\r\n\t\t// The year may be greater than the current year (any month is okay) or if equal to the current year, the month can not be less\r\n\t\treturn this.selectedYear > this.currentYear\r\n\t\t\t|| (this.selectedMonth >= this.currentMonth\r\n\t\t\t\t&& this.currentYear === this.selectedYear);\r\n\t}\r\n\r\n\t// Is the currently entered CVV valid?\r\n\tpublic get isValidCVV(): boolean {\r\n\t\treturn this.cvvTouched && this.cvvError === CREDIT_CARD_ERRORS.NONE;\r\n\t}\r\n\r\n\r\n\t// Has the credit-card number field been 'touched' or dirty?\r\n\tpublic get creditCardNumberTouched(): boolean {\r\n\t\treturn this.creditCardSubGroup.get(\"creditCardNumber\").dirty;\r\n\t}\r\n\r\n\t// Has the CVV number field been 'touched' or dirty?\r\n\tpublic get cvvTouched(): boolean {\r\n\t\treturn this.cvv.dirty;\r\n\t}\r\n\r\n\tpublic get expDateTouched(): boolean {\r\n\t\treturn this.expirationMonth.dirty && this.expirationYear.dirty;\r\n\t}\r\n\r\n\r\n\t// Access the class(es) for the credit-card number {Input} based on current entry\r\n\tpublic get creditCardNumberClass(): string {\r\n\t\tlet className = \"app \";\r\n\r\n\t\tif (!this.creditCardNumberTouched) {\r\n\t\t\tclassName += \" ng-pristine\";\r\n\t\t} else {\r\n\t\t\tclassName += this.isValidCardNumber ? \" ng-valid\" : \"ng-invalid\";\r\n\t\t}\r\n\r\n\t\treturn className;\r\n\t}\r\n\r\n\t// Access the class(es) for the CVV {Input} based on overall sub-component state and current entry\r\n\tpublic get cvvClass(): string {\r\n\t\tlet className = \"app app-cvv\";\r\n\r\n\t\tif (!this.cvvTouched) {\r\n\t\t\t// Add pristine\r\n\t\t\tclassName += \" ng-pristine\";\r\n\t\t} else {\r\n\t\t\t// could be valid or invalid\r\n\t\t\tclassName += this.cvvError !== CREDIT_CARD_ERRORS.NONE ? \" ng-invalid\" : \" ng-valid\";\r\n\t\t}\r\n\r\n\t\treturn className;\r\n\t}\r\n\r\n\r\n\tpublic onCardNumberChange(cardNumber: string): void {\r\n\t\tif (cardNumber.length > 0 && this.cardError === CREDIT_CARD_ERRORS.NONE) {\r\n\t\t\tthis.expirationMonth.enable();\r\n\t\t\tthis.expirationYear.enable();\r\n\t\t\tthis.cvv.enable();\r\n\t\t}\r\n\r\n\t\t// TODO: If enabled once and the user goes back to re-type a new card number, disable these controls again\r\n\t}\r\n\r\n\tpublic onCardTypeChange(type: CreditCardTypes): void {\r\n\t\tif (type !== CreditCardTypes.UNKNOWN) {\r\n\t\t\tthis.cardType = type;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic onCardErrorChange(evt: string): void {\r\n\t\tthis.cardError = evt;\r\n\t}\r\n\r\n\tpublic onMonthChanged(evt: Event): void {\r\n\t\tconst monthValue: number = +(evt.target as HTMLInputElement).value;\r\n\r\n\t\t// if (isNaN(monthValue)) {\r\n\t\t// \tthis.expError = CREDIT_CARD_ERRORS.INVALID_DATE;\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\tthis.selectedMonth = monthValue;\r\n\t\tthis.validateExpDate(monthValue);\r\n\t\t// this.expError = (this.selectedMonth < this.currentMonth && this.currentYear === this.selectedYear)\r\n\t\t// \t? CREDIT_CARD_ERRORS.INVALID_DATE\r\n\t\t// \t: CREDIT_CARD_ERRORS.NONE;\r\n\t}\r\n\r\n\tpublic onYearChanged(evt: Event): void {\r\n\t\tconst yearValue: number = +`20${(evt.target as HTMLInputElement).value}`;\r\n\r\n\t\t// if (isNaN(yearValue)) {\r\n\t\t// \tthis.expError = CREDIT_CARD_ERRORS.INVALID_DATE;\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\tthis.selectedYear = yearValue;\r\n\r\n\t\tthis.validateExpDate(yearValue);\r\n\r\n\t\t// if (this.currentYear > this.selectedYear) {\r\n\t\t// \tthis.expError = CREDIT_CARD_ERRORS.INVALID_DATE;\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\t\t// // newly selected year may override a previous invalid month\r\n\t\t// this.expError = this.selectedMonth < this.currentMonth && this.currentYear === this.selectedYear\r\n\t\t// \t? CREDIT_CARD_ERRORS.INVALID_DATE\r\n\t\t// \t: CREDIT_CARD_ERRORS.NONE;\r\n\t}\r\n\r\n\tprivate validateExpDate(val: number) {\r\n\t\tif (isNaN(val)) {\r\n\t\t\tthis.expError = CREDIT_CARD_ERRORS.INVALID_DATE;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.currentYear > this.selectedYear) {\r\n\t\t\tthis.expError = CREDIT_CARD_ERRORS.INVALID_DATE;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// newly selected year may override a previous invalid month\r\n\t\tthis.expError = this.selectedMonth < this.currentMonth && this.currentYear === this.selectedYear\r\n\t\t\t? CREDIT_CARD_ERRORS.INVALID_DATE\r\n\t\t\t: CREDIT_CARD_ERRORS.NONE;\r\n\t}\r\n\r\n\tpublic onCVVChanged(evt: Event): void {\r\n\t\tconst cvv: number = +(evt.target as HTMLInputElement).value;\r\n\r\n\t\tif (isNaN(cvv)) {\r\n\t\t\tthis.cvvError = CREDIT_CARD_ERRORS.INVALID_CCV;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst digits: number = cvv === 0 ? 0 : Math.floor(Math.log10(cvv)) + 1;\r\n\r\n\t\t// Check the CVV length vs required length for the current card\r\n\t\tif (this.cardType !== CreditCardTypes.UNKNOWN) {\r\n\t\t\tthis.cvvError = digits === creditCards[this.cardType].cvvDigits\r\n\t\t\t\t? CREDIT_CARD_ERRORS.NONE\r\n\t\t\t\t: CREDIT_CARD_ERRORS.INVALID_CCV;\r\n\t\t} else {\r\n\t\t\t// Type a CVV without first providing a card number\r\n\t\t\tthis.cvvError = CREDIT_CARD_ERRORS.INVALID_CCV;\r\n\t\t}\r\n\t}\r\n}\r\n","<div [formGroup]=\"creditCardSubGroup\" class=\"credit-card-wrap\">\r\n\r\n\t<div class=\"cc-main-info-wrap\">\r\n\r\n\t\t<div class=\"form-line\">\r\n\t\t\t<!-- [class]=\"creditCardNumberClass\" -->\r\n\t\t\t<input mask=\"0000 0000 0000 0000\"\r\n\t\t\t\tappCreditCardNumber\r\n\t\t\t\tappTooltip\r\n\t\t\t\t[tooltipTemplateRef]=\"creditCardNumberErrorTemplate\"\r\n\t\t\t\t[showTooltip]=\"creditCardSubGroup.value.creditCardNumber && cardError === CreditCardErrors.INVALID_NUMBER || cardError === CreditCardErrors.UNSUPPORTED_CARD\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclass=\"app\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tid=\"creditCardNumber\"\r\n\t\t\t\tformControlName=\"creditCardNumber\"\r\n\t\t\t\tmaxlength=\"19\"\r\n\t\t\t\tinputmode=\"numeric\"\r\n\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t(cardNumberChange)=\"onCardNumberChange($event)\"\r\n\t\t\t\t(cardTypeChange)=\"onCardTypeChange($event)\"\r\n\t\t\t\t(cardErrorChange)=\"onCardErrorChange($event)\"\r\n\t\t\t/>\r\n\t\t\t<span class=\"floating-label\">{{placeHolder}}</span>\r\n\r\n\t\t\t<img class=\"card-type-img\" *ngIf=\"cardType && cardType !== 'unknown'\" src=\"{{creditCardData[cardType].image}}\">\r\n\r\n\t\t\t<ng-template #creditCardNumberErrorTemplate>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tВы указали неверный номер.<br/>\r\n\t\t\t\t\tПроверьте его и начните заново\r\n\t\t\t\t</div>\r\n\t\t\t</ng-template>\r\n\t\t</div>\r\n\r\n\t\t<!-- Тип карты: {{creditCardData[cardType].name}} -->\r\n\t\t<!--\r\n\t\t<span *ngIf=\"creditCardNumberTouched && !isValidCardNumber\">Ошибки: {{cardError}}</span> -->\r\n\r\n\t\t<!-- <br>\r\n\t\t{{creditCardSubGroup.value.creditCardNumber | json }} -->\r\n\t\t<!--  -->\r\n\r\n\t\t<div class=\"form-line date-exp-wrap\">\r\n\r\n\t\t\t<div class='year-wrap'>\r\n\t\t\t\t<input class=\"app app-month\"\r\n\t\t\t\t\tappDigitOnly\r\n\t\t\t\t\tid=\"expireMonth\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tformControlName=\"expirationMonth\"\r\n\t\t\t\t\tmaxlength=\"2\"\r\n\t\t\t\t\tinputmode=\"numeric\"\r\n\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"12\"\r\n\t\t\t\t\t(change)=\"onMonthChanged($event)\" />\r\n\t\t\t\t<span class=\"floating-label\">Месяц</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<span class=\"month-year-separator\">/</span>\r\n\r\n\t\t\t<!-- [showTooltip]=\"creditCardSubGroup.value.creditCardNumber && cardError === CreditCardErrors.INVALID_NUMBER || cardError === CreditCardErrors.UNSUPPORTED_CARD\" -->\r\n\t\t\t<div class='year-wrap'>\r\n\t\t\t\t<input class=\"app app-year\"\r\n\t\t\t\t\tappTooltip\r\n\t\t\t\t\t[tooltipTemplateRef]=\"expDateTooltipTemplate\"\r\n\t\t\t\t\t[showTooltip]=\"expDateTouched && !isValidExpDate\"\r\n\t\t\t\t\tplacement=\"bottom\"\r\n\t\t\t\t\tappDigitOnly\r\n\t\t\t\t\tid=\"expireYear\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tformControlName=\"expirationYear\"\r\n\t\t\t\t\tmaxlength=\"2\"\r\n\t\t\t\t\tinputmode=\"numeric\"\r\n\t\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\tmax=\"30\"\r\n\t\t\t\t\t(change)=\"onYearChanged($event)\" />\r\n\t\t\t\t<span class=\"floating-label year-fl\">Год</span>\r\n\t\t\t</div>\r\n\t\t\t<!-- <span *ngIf=\"expDateTouched && !isValidExpDate\">Ошибки: {{expError}}</span> -->\r\n\r\n\t\t\t<ng-template #expDateTooltipTemplate>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tВведите дату как на карте\r\n\t\t\t\t</div>\r\n\t\t\t</ng-template>\r\n\r\n\t\t</div>\r\n\r\n\t\t<div class=\"form-line\">\r\n\t\t\t<input\r\n\t\t\t\tappTooltip\r\n\t\t\t\t[tooltipTemplateRef]=\"nameTooltipTemplate\"\r\n\t\t\t\t[showTooltip]=\"!creditCardSubGroup.controls.name.pristine && !creditCardSubGroup.value.name\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclass=\"app app-name\"\r\n\t\t\t\tformControlName=\"name\">\r\n\t\t\t<span class=\"floating-label\">Владелец карты</span>\r\n\t\t</div>\r\n\t\t<ng-template #nameTooltipTemplate>\r\n\t\t\t<div>\r\n\t\t\t\tВведите имя владельца карты\r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\t</div>\r\n\r\n\t<div class=\"cvv-block-wrap\">\r\n\r\n\t\t<div class=\"magnet-strip\"></div>\r\n\r\n\t\t<div class=\"cvv-wrap\">\r\n\t\t\t<div class=\"stripes-wrap\">\r\n\t\t\t\t<div class=\"stripe\"></div>\r\n\t\t\t\t<div class=\"stripe\"></div>\r\n\t\t\t\t<div class=\"stripe\"></div>\r\n\t\t\t\t<div class=\"stripe\"></div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- [class]=\"cvvClass\" -->\r\n\t\t\t<input\r\n\t\t\t\tappTooltip\r\n\t\t\t\t[tooltipTemplateRef]=\"cvvTooltipTemplate\"\r\n\t\t\t\t[showTooltip]=\"cvvTouched && !isValidCVV\"\r\n\t\t\t\tplacement=\"right\"\r\n\t\t\t\tclass=\"app app-cvv\"\r\n\t\t\t\tappDigitOnly\r\n\t\t\t\tid=\"cvv\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tformControlName=\"cvv\"\r\n\t\t\t\tmaxlength=\"3\"\r\n\t\t\t\tinputmode=\"numeric\"\r\n\t\t\t\tpattern=\"[0-9]*\"\r\n\t\t\t\t(input)=\"onCVVChanged($event)\" />\r\n\t\t\t<span class=\"floating-label\">CVV/CVC</span>\r\n\t\t</div>\r\n\t\t<ng-template #cvvTooltipTemplate>\r\n\t\t\t<div>\r\n\t\t\t\tНекорректный код\r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\r\n\t\t<div class=\"cvv-underline\">Три цифры <br/>на обороте карты</div>\r\n\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n<!-- <br>\r\nDebug info:\r\n<br>\r\n<span *ngIf=\"cvvTouched && !isValidCVV\">Ошибки: {{cvvError}}</span>\r\n\r\n<br>\r\n<br>\r\nForm valid: {{creditCardSubGroup.valid}}\r\nComponent valid: {{valid}}\r\n -->\r\n","import { Directive, ElementRef, HostListener, Input, OnChanges, SimpleChanges } from \"@angular/core\";\r\n\r\n@Directive({\r\n\tselector: \"[appDigitOnly]\"\r\n})\r\nexport class DigitOnlyDirective implements OnChanges {\r\n\r\n\tprivate navigationKeys = [\r\n\t\t\"Backspace\",\r\n\t\t\"Delete\",\r\n\t\t\"Tab\",\r\n\t\t\"Escape\",\r\n\t\t\"Enter\",\r\n\t\t\"Home\",\r\n\t\t\"End\",\r\n\t\t\"ArrowLeft\",\r\n\t\t\"ArrowRight\",\r\n\t\t\"Clear\",\r\n\t\t\"Copy\",\r\n\t\t\"Paste\",\r\n\t];\r\n\r\n\t@Input() public min = -Infinity;\r\n\t@Input() public max = Infinity;\r\n\t@Input() public pattern?: string | RegExp;\r\n\tprivate regex: RegExp;\r\n\tpublic inputElement: HTMLInputElement;\r\n\r\n\tpublic constructor(private el: ElementRef) {\r\n\t\tthis.inputElement = el.nativeElement;\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: SimpleChanges) {\r\n\t\tif (changes.pattern) {\r\n\t\t\tthis.regex = this.pattern ? RegExp(this.pattern) : null;\r\n\t\t}\r\n\r\n\t\tif (changes.min) {\r\n\t\t\tconst maybeMin = Number(this.min);\r\n\t\t\tthis.min = isNaN(maybeMin) ? -Infinity : maybeMin;\r\n\t\t}\r\n\r\n\t\tif (changes.max) {\r\n\t\t\tconst maybeMax = Number(this.max);\r\n\t\t\tthis.max = isNaN(maybeMax) ? Infinity : maybeMax;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@HostListener(\"keydown\", [\"$event\"])\r\n\tpublic onKeyDown(e: KeyboardEvent) {\r\n\r\n\t\tif (\r\n\t\t\tthis.navigationKeys.indexOf(e.key) > -1 || // Allow: navigation keys: backspace, delete, arrows etc.\r\n\t\t\t(e.key === \"a\" && e.ctrlKey === true) || // Allow: Ctrl+A\r\n\t\t\t(e.key === \"c\" && e.ctrlKey === true) || // Allow: Ctrl+C\r\n\t\t\t(e.key === \"v\" && e.ctrlKey === true) || // Allow: Ctrl+V\r\n\t\t\t(e.key === \"x\" && e.ctrlKey === true) || // Allow: Ctrl+X\r\n\t\t\t(e.key === \"a\" && e.metaKey === true) || // Allow: Cmd+A (Mac)\r\n\t\t\t(e.key === \"c\" && e.metaKey === true) || // Allow: Cmd+C (Mac)\r\n\t\t\t(e.key === \"v\" && e.metaKey === true) || // Allow: Cmd+V (Mac)\r\n\t\t\t(e.key === \"x\" && e.metaKey === true)  // Allow: Cmd+X (Mac)\r\n\t\t\t// || (this.decimal && e.key === this.decimalSeparator && !this.hasDecimalPoint) // Allow: only one decimal point\r\n\t\t) {\r\n\t\t\t// let it happen, don't do anything\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ensure that it is a number and stop the keypress\r\n\t\tif (e.key === \" \" || isNaN(Number(e.key))) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\t// check the input pattern RegExp\r\n\t\tif (this.regex) {\r\n\t\t\tconst newForecastValue = this.forecastValue(e.key);\r\n\t\t\tif (!this.regex.test(newForecastValue)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst newValue = Number(this.forecastValue(e.key));\r\n\r\n\t\tif (newValue > this.max || newValue < this.min) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate forecastValue(key: string): string {\r\n\t\tconst selectionStart = this.inputElement.selectionStart;\r\n\t\tconst selectionEnd = this.inputElement.selectionEnd;\r\n\t\tconst oldValue = this.inputElement.value;\r\n\t\tconst selection = oldValue.substring(selectionStart, selectionEnd);\r\n\t\treturn selection\r\n\t\t\t? oldValue.replace(selection, key)\r\n\t\t\t: oldValue.substring(0, selectionStart) +\r\n\t\t\tkey +\r\n\t\t\toldValue.substring(selectionStart);\r\n\t}\r\n}\r\n","import { FormControl, FormGroup } from \"@angular/forms\";\r\n\r\nexport enum CreditCardTypes {\r\n\tMASTERCARD = \"mastercard\",\r\n\tVISA = \"visa\",\r\n\tUNKNOWN = \"unknown\",\r\n}\r\n\r\nexport enum CREDIT_CARD_ERRORS {\r\n\tINVALID_LENGTH = \"invalid_length\",\r\n\tUNSUPPORTED_CARD = \"unsupported card\",\r\n\tINVALID_NUMBER = \"invalid_number\",\r\n\tINVALID_DATE = \"invalid_date\",\r\n\tINVALID_CCV = \"invalid_ccv\",\r\n\tNONE = \"none\",\r\n}\r\n\r\nexport enum CreditCardGroupComponents {\r\n\tCREDIT_CARD_NUMBER = \"creditCardNumber\",\r\n\tEXPIRATION_MONTH = \"expirationMonth\",\r\n\tEXPIRATION_YEAR = \"expirationYear\",\r\n\tNAME = \"name\",\r\n\tCVV = \"cvv\",\r\n}\r\n\r\nexport interface CreditCardGroup {\r\n\tccSubGroup: FormGroup;\r\n\tccNumber: FormControl;\r\n\texpirationMonth: FormControl;\r\n\texpirationYear: FormControl;\r\n\tcvv: FormControl;\r\n}\r\n\r\n\r\nexport interface CreditCardData {\r\n\tname: string;\r\n\tlength: number;\r\n\tminLength?: number;\r\n\tmaxLength?: number;\r\n\tcvvDigits: number;\r\n\timage: string;\r\n\tpattern: RegExp | null;\r\n}\r\n\r\nexport const creditCards: Record<CreditCardTypes, CreditCardData> = {\r\n\tmastercard: {\r\n\t\tname: \"Master Card\",\r\n\t\tlength: 16,\r\n\t\timage: \"/assets/images/ms_mini.png\",\r\n\t\tcvvDigits: 3,\r\n\t\tpattern: /^5[1-5]/\r\n\t},\r\n\tvisa: {\r\n\t\tname: \"Visa\",\r\n\t\tlength: 16,\r\n\t\timage: \"/assets/images/visa_mini.png\",\r\n\t\tcvvDigits: 3,\r\n\t\tpattern: /^4/,\r\n\t},\r\n\tunknown: {\r\n\t\tname: \"\",\r\n\t\tlength: 0,\r\n\t\timage: \"/assets/cc-image/unknown.png\",\r\n\t\tcvvDigits: 0,\r\n\t\tpattern: null,\r\n\t}\r\n};\r\n\r\nexport interface MonthValues {\r\n\tname: string;\r\n\tvalue: string;\r\n}\r\n\r\nexport const months: Array<MonthValues> = [\r\n\t{\r\n\t\tname: \"Jan-1\",\r\n\t\tvalue: \"1\",\r\n\t},\r\n\t{\r\n\t\tname: \"Feb-2\",\r\n\t\tvalue: \"2\",\r\n\t},\r\n\t{\r\n\t\tname: \"Mar-3\",\r\n\t\tvalue: \"3\",\r\n\t},\r\n\t{\r\n\t\tname: \"Apr-4\",\r\n\t\tvalue: \"4\",\r\n\t},\r\n\t{\r\n\t\tname: \"May-5\",\r\n\t\tvalue: \"5\",\r\n\t},\r\n\t{\r\n\t\tname: \"Jun-6\",\r\n\t\tvalue: \"6\",\r\n\t},\r\n\t{\r\n\t\tname: \"Jul-7\",\r\n\t\tvalue: \"7\",\r\n\t},\r\n\t{\r\n\t\tname: \"Aug-8\",\r\n\t\tvalue: \"8\",\r\n\t},\r\n\t{\r\n\t\tname: \"Sep-9\",\r\n\t\tvalue: \"9\",\r\n\t},\r\n\t{\r\n\t\tname: \"Oct-10\",\r\n\t\tvalue: \"10\",\r\n\t},\r\n\t{\r\n\t\tname: \"Nov-11\",\r\n\t\tvalue: \"11\",\r\n\t},\r\n\t{\r\n\t\tname: \"Dec-12\",\r\n\t\tvalue: \"12\",\r\n\t}\r\n];\r\n\r\nexport const years: Array<string> = [\"2020\", \"2021\", \"2022\", \"2023\", \"2024\"];\r\n","import { CreditCardData, creditCards, CreditCardTypes } from \"./domain\";\r\n\r\nexport const inEnum = (value: string, enumeration: object): boolean => {\r\n\r\n\tif (value === undefined || value == null || value === \"\") {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst keys: Array<string> = Object.keys(enumeration);\r\n\tconst n: number = keys.length;\r\n\r\n\tlet i: number;\r\n\tfor (i = 0; i < n; ++i) {\r\n\t\tif (value === enumeration[keys[i]]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nexport const getCardType = (cardNumber: string): CreditCardTypes => {\r\n\t// remove spaces/dashes from card number\r\n\tconst creditCardNumber: string = cardNumber.replace(/[ -]/g, \"\");\r\n\r\n\t// loop over types and test each pattern\r\n\tconst types: Array<string> = Object.values(CreditCardTypes);\r\n\tfor (const creditCardType of types) {\r\n\t\t// const type = creditCardType as CreditCardTypes;\r\n\t\tconst data = creditCards[creditCardType];\r\n\t\tconst pattern = data.pattern;\r\n\t\tif (pattern !== null && creditCardNumber.match(pattern)) {\r\n\t\t\treturn creditCardType as CreditCardTypes;\r\n\t\t}\r\n\t}\r\n\r\n\treturn CreditCardTypes.UNKNOWN;\r\n};\r\n\r\nexport const isCCLengthValid = (cardNumber: string, cardTypeIdentifier: string): boolean => {\r\n\tif (!inEnum(cardTypeIdentifier, CreditCardTypes)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst data: Partial<CreditCardData> = creditCards[cardTypeIdentifier];\r\n\tconst digits: number = cardNumber.replace(/ /g, \"\").length;\r\n\r\n\tif (data.minLength !== undefined && data.maxLength !== undefined) {\r\n\t\treturn digits >= data.minLength && digits <= data.maxLength;\r\n\t}\r\n\r\n\treturn digits === data.length;\r\n};\r\n\r\nexport const isValidLuhn = (cardNumber: string): boolean => {\r\n\t// Classic Luhn validation\r\n\tconst ccNumbers: Array<number> = cardNumber.split(\"\").reverse().map((val: string): number => +val);\r\n\tconst len: number = ccNumbers.length;\r\n\r\n\tlet n = 0;\r\n\tlet sum = 0;\r\n\tlet j = 0;\r\n\r\n\tlet digit: number;\r\n\twhile (j < len) {\r\n\t\tdigit = ccNumbers[n];\r\n\t\tdigit = +digit;\r\n\r\n\t\tif (n % 2) {\r\n\t\t\tdigit *= 2;\r\n\r\n\t\t\tsum += (digit < 10) ? digit : digit - 9;\r\n\t\t} else {\r\n\t\t\tsum += digit;\r\n\t\t}\r\n\r\n\t\tn = ++j;\r\n\t}\r\n\r\n\treturn sum % 10 === 0;\r\n};\r\n","import { Pipe, PipeTransform } from \"@angular/core\";\r\n\r\n@Pipe({\r\n\tname: \"time\"\r\n})\r\nexport class TimePipe implements PipeTransform {\r\n\r\n\tpublic transform(value: number, args?: any): any {\r\n\t\treturn `${Math.floor(value / 60)}:${(\"0\" + (value % 60)).slice(-2)}`;\r\n\t}\r\n\r\n}\r\n","import {\r\n\tDirective, ElementRef, HostListener, Input, OnChanges,\r\n\tRenderer2, SimpleChanges, TemplateRef, ViewContainerRef\r\n} from \"@angular/core\";\r\n\r\n@Directive({\r\n\tselector: \"[appTooltip]\"\r\n})\r\nexport class TooltipDirective implements OnChanges {\r\n\r\n\t@Input() public tooltipTitle: string;\r\n\t@Input() public placement: string;\r\n\t@Input() public delay: string;\r\n\t@Input() public tooltipTemplateRef: TemplateRef<any>;\r\n\t@Input() public showTooltip: string;\r\n\r\n\tprivate tooltip: HTMLElement;\r\n\tprivate offset = 10;\r\n\r\n\tpublic constructor(\r\n\t\tprivate el: ElementRef,\r\n\t\tprivate renderer: Renderer2,\r\n\t\tprivate readonly vcr: ViewContainerRef\r\n\t) { }\r\n\r\n\tpublic ngOnChanges(changes: SimpleChanges) {\r\n\t\tif (changes.showTooltip) {\r\n\t\t\tif (this.showTooltip && this.needed() && !this.tooltip) {\r\n\t\t\t\tthis.show();\r\n\t\t\t} else if (this.tooltip) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@HostListener(\"mouseenter\")\r\n\tpublic onMouseEnter() {\r\n\t\t// if (this.needed() && !this.tooltip) {\r\n\t\t// \tthis.show();\r\n\t\t// }\r\n\t}\r\n\r\n\t@HostListener(\"mouseleave\")\r\n\tpublic onMouseLeave() {\r\n\t\t// if (!this.showTooltip && this.tooltip) {\r\n\t\t// \tthis.hide();\r\n\t\t// }\r\n\t}\r\n\r\n\tprivate show() {\r\n\t\tthis.create();\r\n\t\tthis.setPosition();\r\n\t\tthis.renderer.addClass(this.tooltip, \"ng-tooltip-show\");\r\n\t}\r\n\r\n\tprivate hide() {\r\n\t\tthis.renderer.removeClass(this.tooltip, \"ng-tooltip-show\");\r\n\t\twindow.setTimeout(() => {\r\n\t\t\tthis.renderer.removeChild(document.body, this.tooltip);\r\n\t\t\tthis.tooltip = null;\r\n\t\t}, +this.delay);\r\n\t}\r\n\r\n\tprivate create() {\r\n\t\tthis.tooltip = this.renderer.createElement(\"div\");\r\n\t\tconst child = this.tooltipTemplateRef\r\n\t\t\t? this.vcr.createEmbeddedView(this.tooltipTemplateRef).rootNodes[0]\r\n\t\t\t: this.renderer.createText(this.tooltipTitle);\r\n\t\tthis.renderer.appendChild(this.tooltip, child);\r\n\t\tthis.renderer.appendChild(document.body, this.tooltip);\r\n\t\tthis.renderer.addClass(this.tooltip, \"ng-tooltip\");\r\n\t\tthis.renderer.addClass(this.tooltip, `ng-tooltip-${this.placement}`);\r\n\t\tthis.renderer.setStyle(this.tooltip, \"-webkit-transition\", `opacity ${this.delay}ms`);\r\n\t\tthis.renderer.setStyle(this.tooltip, \"-moz-transition\", `opacity ${this.delay}ms`);\r\n\t\tthis.renderer.setStyle(this.tooltip, \"-o-transition\", `opacity ${this.delay}ms`);\r\n\t\tthis.renderer.setStyle(this.tooltip, \"transition\", `opacity ${this.delay}ms`);\r\n\t}\r\n\r\n\tprivate setPosition() {\r\n\t\tconst hostPos = this.el.nativeElement.getBoundingClientRect();\r\n\t\tconst tooltipPos = this.tooltip.getBoundingClientRect();\r\n\t\tconst scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n\r\n\t\tlet top: any;\r\n\t\tlet left: any;\r\n\r\n\t\tif (this.placement === \"top\") {\r\n\t\t\ttop = hostPos.top - tooltipPos.height - this.offset;\r\n\t\t\tleft = hostPos.left + (hostPos.width - tooltipPos.width) / 2;\r\n\t\t}\r\n\r\n\t\tif (this.placement === \"bottom\") {\r\n\t\t\ttop = hostPos.bottom + this.offset;\r\n\t\t\tleft = hostPos.left + (hostPos.width - tooltipPos.width) / 2;\r\n\t\t}\r\n\r\n\t\tif (this.placement === \"left\") {\r\n\t\t\ttop = hostPos.top + (hostPos.height - tooltipPos.height) / 2;\r\n\t\t\tleft = hostPos.left - tooltipPos.width - this.offset;\r\n\t\t}\r\n\r\n\t\tif (this.placement === \"right\") {\r\n\t\t\ttop = hostPos.top + (hostPos.height - tooltipPos.height) / 2;\r\n\t\t\tleft = hostPos.right + this.offset;\r\n\t\t}\r\n\r\n\t\tthis.renderer.setStyle(this.tooltip, \"top\", `${top + scrollPos}px`);\r\n\t\tthis.renderer.setStyle(this.tooltip, \"left\", `${left}px`);\r\n\t}\r\n\r\n\tprivate needed() {\r\n\t\treturn this.tooltipTemplateRef || this.tooltipTitle;\r\n\t}\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}